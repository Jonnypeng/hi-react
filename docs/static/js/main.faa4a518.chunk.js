(this["webpackJsonphi-react"]=this["webpackJsonphi-react"]||[]).push([[0],{30:function(e,t,n){e.exports=n(45)},35:function(e,t,n){},36:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),o=n.n(c),l=(n(35),n(26)),i=n(9),s=n(10),u=n(11),m=n(13),h=n(12),d=n(46),p=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(d.a,null,this.props.children))}}]),n}(a.Component);p.displayName=p.name;var f=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(u.a)(n,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null)}}]),n}(a.Component),E=(n(36),n(16)),v=n.n(E),b=n(24),g=n(47),w=n(25),x=n(48),y=n(49),j=function e(){Object(s.a)(this,e)},O=function(e){Object(m.a)(n,e);var t=Object(h.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).text="",a.speed="5",a.audioUrl="",a.downEl=null,a.audio=new Audio,a.state=new j,a}return Object(u.a)(n,[{key:"getUrl",value:function(e,t){var n="http://tts.baidu.com/text2audio?lan=en&ie=UTF-8&spd=".concat(e,"&text=").concat(t);return n=encodeURI(n)}},{key:"getSound",value:function(){var e=Object(b.a)(v.a.mark((function e(t){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getRes(this.speed,this.text);case 2:this.audioUrl=e.sent,this.audio.src=this.audioUrl,t&&this.audio.play(),this.downEl.href=this.audioUrl,this.downEl.download=Date.now().toString()+".mp3";case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getRes",value:function(e,t){var n=this.getUrl(e,t);return new Promise((function(e){fetch(n,{method:"get",responseType:"blob"}).then((function(e){return e.blob()})).then((function(t){var n=window.URL.createObjectURL(t);e(n)}))}))}},{key:"render",value:function(){var e=this;return r.a.createElement(d.a,null,r.a.createElement(g.a,null,r.a.createElement(w.a,{md:{span:6,offset:3},xs:12},r.a.createElement("h4",null,"TTS\u5e94\u7528"))),r.a.createElement(g.a,null,r.a.createElement(w.a,{md:{span:6,offset:3},xs:12},r.a.createElement(x.a.Control,{as:"textarea",rows:5,placeholder:"\u8bf7\u8f93\u5165\u82f1\u6587\u5b57\u7b26",onChange:function(t){e.text=t.target.value}}))),r.a.createElement(g.a,null,r.a.createElement(w.a,{md:{span:6,offset:3},xs:12},r.a.createElement(x.a.Control,{type:"range",onChange:function(t){e.speed=t.target.value},step:1,min:1,max:9}))),r.a.createElement(g.a,null,r.a.createElement(w.a,{md:{offset:3,span:2},xs:4,className:"flex-center"},r.a.createElement(y.a,{variant:"primary",size:"lg",onClick:this.getSound.bind(this,!1)},"\u83b7\u53d6")),r.a.createElement(w.a,{md:{span:2},xs:4,className:"flex-center"},r.a.createElement(y.a,{variant:"success",size:"lg",onClick:this.getSound.bind(this,!0)},"\u64ad\u653e")),r.a.createElement(w.a,{md:{span:2},xs:4,className:"flex-center"},r.a.createElement(y.a,{variant:"outline-danger",size:"lg"},r.a.createElement("a",{ref:function(t){e.downEl=t}},"\u4e0b\u8f7d")))))}}]),n}(a.Component);var k=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(p,null,r.a.createElement(l.a,null,r.a.createElement(i.a,{path:"/home",component:f}),r.a.createElement(i.a,{path:"/tts",component:O}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(44);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(k,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[30,1,2]]]);
//# sourceMappingURL=main.faa4a518.chunk.js.map